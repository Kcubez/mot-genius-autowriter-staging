{% extends "layout.html" %} {% block title %}Dashboard - Genius AutoWriter{% endblock %} {% block
head %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}" defer></script>
{% endblock %} {% block content %}
<div class="min-h-screen py-8">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8">
    <!-- Header -->
    <div
      class="backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-red-600/30"
      style="background-color: #1f1f1f"
    >
      <div class="flex justify-between items-center">
        <div>
          <h1 class="text-3xl font-bold text-white" data-translate="Content Generator">Content Generator</h1>
          <p class="text-gray-300 mt-2" data-translate="Create content with advanced customization">Create content with advanced customization</p>
        </div>
        <div class="text-center md:text-right">
          <div
            class="bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-4 rounded-xl shadow-lg"
          >
            <p class="text-3xl font-bold">{{ total_contents }}</p>
            <p class="text-red-100 text-sm" data-translate="Total Contents">Total Contents</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Content Generation Form -->
    <div
      class="backdrop-blur-sm rounded-2xl shadow-xl border border-red-600/30 overflow-hidden"
      style="background-color: #1f1f1f"
    >
      <div class="p-6">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-bold text-white" data-translate="Content Generation Form">Content Generation Form</h2>
          <div class="text-sm text-gray-300" data-translate="Fill in the details below">Fill in the details below</div>
        </div>
      </div>
      <div class="px-6 pb-6">
        <div class="mb-4">
          <label for="page-name" class="block text-sm font-medium text-white mb-2">
            <span data-translate="Page Name">Page Name</span> <span class="text-red-400">*</span>
          </label>
          <input
            type="text"
            id="page-name"
            required
            class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black placeholder-gray-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
            placeholder="Page ၏ အမည် သို့မဟုတ် Brand အမည်"
            data-placeholder="Page ၏ အမည် သို့မဟုတ် Brand အမည်"
          />
        </div>
        <div class="mb-4">
          <label for="prompt" class="block text-sm font-medium text-white mb-2" data-translate="Topic">Topic</label>
          <input
            type="text"
            id="prompt"
            class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black placeholder-gray-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
            placeholder="ဒီနေရာတွင် content ၏ အဓိက အကြောင်းအရာကို ရေးပါ"
            data-placeholder="ဒီနေရာတွင် content ၏ အဓိက အကြောင်းအရာကို ရေးပါ"
          />
        </div>
        <div class="mb-4">
          <label for="image-upload" class="block text-sm font-medium text-white mb-2" data-translate="Upload an image (Optional):"
            >Upload an image (Optional):</label
          >
          <input
            type="file"
            id="image-upload"
            class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-red-50 file:text-red-700 hover:file:bg-red-100"
            accept="image/*"
          />
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div>
            <label for="purpose" class="block text-sm font-medium text-white mb-2" data-translate="Purpose">Purpose</label>
            <input
              type="text"
              id="purpose"
              class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black placeholder-gray-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
              placeholder="ဥပမာ - ပညာပေးရန်၊ Engagement ရရှိရန်၊ ရောင်းအားမြှင့်တင်ရန်"
              data-placeholder="ဥပမာ - ပညာပေးရန်၊ Engagement ရရှိရန်၊ ရောင်းအားမြှင့်တင်ရန်"
            />
          </div>
          <div>
            <label for="audience" class="block text-sm font-medium text-white mb-2" data-translate="Audience">Audience</label>
            <input
              type="text"
              id="audience"
              class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black placeholder-gray-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
              placeholder="ဥပမာ - အသက် ၂၀ မှ ၃၀ ကြား လူငယ်တွေ"
              data-placeholder="ဥပမာ - အသက် ၂၀ မှ ၃၀ ကြား လူငယ်တွေ"
            />
          </div>
          <div>
            <label for="copywriting-model" class="block text-sm font-medium text-white mb-2" data-translate="Copywriting Model"
              >Copywriting Model</label
            >
            <select
              id="copywriting-model"
              class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
            >
              <option value="none" data-translate="None (General)">None (General)</option>
              <option value="AIDA" data-translate="AIDA (Attention, Interest, Desire, Action)">AIDA (Attention, Interest, Desire, Action)</option>
              <option value="PAS" data-translate="PAS (Problem, Agitate, Solution)">PAS (Problem, Agitate, Solution)</option>
              <option value="FAB" data-translate="FAB (Features, Advantages, Benefits)">FAB (Features, Advantages, Benefits)</option>
              <option value="4Ps" data-translate="4Ps (Picture, Promise, Prove, Push)">The 4 P's (Picture, Promise, Prove, Push)</option>
              <option value="BAB" data-translate="BAB (Before, After, Bridge)">BAB (Before, After, Bridge)</option>
            </select>
          </div>
          <div>
            <label for="language" class="block text-sm font-medium text-white mb-2" data-translate="Output Language"
              >Output Language</label
            >
            <select
              id="language"
              class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
            >
              <option value="myanmar">မြန်မာ (Myanmar)</option>
              <option value="english">English</option>
            </select>
          </div>
        </div>

        <!-- Writing Style - Full Width -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-white mb-2" data-translate="Writing Style"
            >Writing Style (အများဆုံး ၃ခု ရွေးချယ်နိုင်ပါသည်)</label
          >
          <div class="relative">
            <div
              id="writing-style-dropdown"
              class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black cursor-pointer flex justify-between items-center focus-within:border-red-500 focus-within:ring-2 focus-within:ring-red-500/20 transition-all duration-200"
            >
              <span id="writing-style-display" class="text-gray-500">ရွေးချယ်ပါ...</span>
              <svg
                class="w-5 h-5 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                ></path>
              </svg>
            </div>
            <div
              id="writing-style-options"
              class="absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg hidden max-h-60 overflow-y-auto"
            >
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="friendly"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="ဖော်ရွေသော (Friendly)">ဖော်ရွေသော (Friendly)</span>
              </label>
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="formal"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="တရားဝင် (Formal)">တရားဝင် (Formal)</span>
              </label>
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="humorous"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="ဟာသ (Humorous)">ဟာသ (Humorous)</span>
              </label>
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="confident"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="ယုံကြည်မှုရှိသော (Confident)">ယုံကြည်မှုရှိသော (Confident)</span>
              </label>
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="enthusiastic"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="စိတ်အားထက်သန်သော (Enthusiastic)">စိတ်အားထက်သန်သော (Enthusiastic)</span>
              </label>
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="professional"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="ပရော်ဖက်ရှင်နယ် (Professional)">ပရော်ဖက်ရှင်နယ် (Professional)</span>
              </label>
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="conversational"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="စကားပြောပုံစံ (Conversational)">စကားပြောပုံစံ (Conversational)</span>
              </label>
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="narrative"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="ဇာတ်လမ်းပြောပုံစံ (Narrative)">ဇာတ်လမ်းပြောပုံစံ (Narrative)</span>
              </label>
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="expository"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="အသိပေးရှင်းပြပုံစံ (Expository)">အသိပေးရှင်းပြပုံစံ (Expository)</span>
              </label>
              <label
                class="flex items-center text-black space-x-2 p-2 hover:bg-gray-50 cursor-pointer"
              >
                <input
                  type="checkbox"
                  name="writing-style"
                  value="persuasive"
                  class="writing-style-checkbox rounded text-red-600 focus:ring-red-500"
                />
                <span class="text-sm" data-translate="စည်းရုံးဆွဲဆောင်ပုံစံ (Persuasive)">စည်းရုံးဆွဲဆောင်ပုံစံ (Persuasive)</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Word Count - Full Width -->
        <div class="mb-4">
          <label for="word-count" class="block text-sm font-medium text-white mb-2" data-translate="Word Count">Word Count</label>
          <select
            id="word-count"
            class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
          >
            <option value="150" data-translate="Short">Short</option>
            <option value="300" selected data-translate="Medium">Medium</option>
            <option value="600" data-translate="Long">Long</option>
          </select>
        </div>
        <div class="mb-4">
          <label for="keywords" class="block text-sm font-medium text-white mb-2" data-translate="Keywords (separate keywords with commas)"
            >Keywords (separate keywords with commas)</label
          >
          <input
            type="text"
            id="keywords"
            class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black placeholder-gray-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
            placeholder="ဥပမာ - အစားအသောက်၊ ကျန်းမာရေး၊ နည်းပညာ"
            data-placeholder="ဥပမာ - အစားအသောက်၊ ကျန်းမာရေး၊ နည်းပညာ"
          />
        </div>
        <div class="mb-4">
          <label for="hashtags" class="block text-sm font-medium text-white mb-2" data-translate="Hashtags">Hashtags</label>
          <input
            type="text"
            id="hashtags"
            class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black placeholder-gray-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
            placeholder="ဥပမာ - #အစားအစာ #ကျန်းမာရေး #မြန်မာ"
            data-placeholder="ဥပမာ - #အစားအစာ #ကျန်းမာရေး #မြန်မာ"
          />
        </div>
        <div class="mb-4">
          <label for="cta" class="block text-sm font-medium text-white mb-2" data-translate="Call to Action (CTA)"
            >Call to Action (CTA)</label
          >
          <input
            type="text"
            id="cta"
            class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black placeholder-gray-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
            placeholder="ဥပမာ - ယခုပင် မှာယူပါ၊ ဆက်သွယ်ပါ၊ ကြည့်ရှုပါ"
            data-placeholder="ဥပမာ - ယခုပင် မှာယူပါ၊ ဆက်သွယ်ပါ၊ ကြည့်ရှုပါ"
          />
        </div>
        <div class="mb-4">
          <label for="negative-constraints" class="block text-sm font-medium text-white mb-2" data-translate="Negative Constraints"
            >Negative Constraints</label
          >
          <textarea
            id="negative-constraints"
            rows="3"
            class="w-full p-3 border border-gray-300 rounded-lg bg-white text-black placeholder-gray-500 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200"
            placeholder="မပါဝင်စေလိုသော စကားလုံးများ သို့မဟုတ် အကြောင်းအရာများ"
            data-placeholder="မပါဝင်စေလိုသော စကားလုံးများ သို့မဟုတ် အကြောင်းအရာများ"
          ></textarea>
        </div>

        <!-- Reference Links Section -->
        <div class="mb-4">
          <div class="flex justify-between items-center mb-2">
            <label class="block text-sm font-medium text-white" data-translate="Reference Links">Reference Links</label>
            <button
              type="button"
              id="add-reference-link"
              class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm transition-all duration-200 flex items-center space-x-1"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
              </svg>
              <span data-translate="Add Link">Add Link</span>
            </button>
          </div>
          <div id="reference-links-container" class="space-y-2">
            <!-- Reference links will be added here dynamically -->
          </div>
          <p class="text-xs text-gray-400 mt-1" data-translate="Website links တွေ ထည့်နိုင်ပါတယ်။ Genius AutoWriter က ဒီ links တွေကို reference အနေနဲ့ သုံးပြီး content ရေးပေးပါမယ်။">
            Website links စတာတွေ ထည့်နိုင်ပါတယ်။ Genius AutoWriter က ဒီ links တွေကို reference အနေနဲ့ သုံးပြီး content ရေးပေးပါမယ်။
          </p>
        </div>

        <!-- Emoji Toggle Section -->
        <div class="mb-4">
          <div class="flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-600/30">
            <div>
              <label class="block text-sm font-medium text-white mb-1" data-translate="Include Emojis">Include Emojis</label>
              <p class="text-xs text-gray-400" data-translate="Content မှာ emoji တွေ ထည့်မလား မထည့်မလား">Content မှာ emoji တွေ ထည့်မလား မထည့်မလား</p>
            </div>
            <div class="flex items-center">
              <label class="relative inline-flex items-center cursor-pointer">
                <input type="checkbox" id="emoji-toggle" class="sr-only peer" checked>
                <div class="relative w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"></div>
                <span class="ml-3 text-sm font-medium text-gray-300" id="emoji-status" data-translate="ON">ON</span>
              </label>
            </div>
          </div>
        </div>

        <button
          id="generate-btn"
          class="w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 mb-4 transition-all duration-200 flex items-center justify-center disabled:opacity-75 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
        >
          <svg
            class="animate-spin -ml-1 mr-3 h-5 w-5 text-white hidden"
            id="generate-spinner"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
          >
            <circle
              class="opacity-25"
              cx="12"
              cy="12"
              r="10"
              stroke="currentColor"
              stroke-width="4"
            ></circle>
            <path
              class="opacity-75"
              fill="currentColor"
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
            ></path>
          </svg>
          <span id="generate-btn-text" data-translate="Generate Content">Generate Content</span>
        </button>
        <div class="mt-4">
          <label for="content-area" class="block text-sm font-medium text-white mb-2" data-translate="Generated Content:"
            >Generated Content:</label
          >
          <textarea
            id="content-area"
            rows="10"
            class="w-full p-2 border border-gray-300 rounded-md text-black"
            placeholder="Generated content will appear here..."
            data-placeholder="Generated content will appear here..."
          ></textarea>
        </div>

        <!-- Save Content Button -->
        <div class="mt-4 flex space-x-4">
          <button
            id="save-content-btn"
            class="bg-red-600 text-white px-6 py-2 rounded-md hover:bg-red-500 transition-colors disabled:opacity-75 disabled:cursor-not-allowed"
            disabled
          >
            <span data-translate="Save Content">Save Content</span>
          </button>
          <a
            href="{{ url_for('content_history') }}"
            class="bg-gray-500 text-white px-6 py-2 rounded-md hover:bg-gray-600 transition-colors"
          >
            <span data-translate="View My Contents">View My Contents</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Recent Content -->
    <div
      class="backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-red-600/30"
      style="background-color: #1f1f1f"
    >
        <div
          class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 space-y-2 sm:space-y-0"
        >
          <h2 class="text-xl sm:text-2xl font-bold text-white" data-translate="Recent Content">Recent Content</h2>
          <a href="{{ url_for('content_history') }}" class="text-sm text-red-600 hover:text-red-300"
            ><span data-translate="View All">View All</span></a
          >
        </div>
        {% if recent_contents %}
        <div class="space-y-3">
          {% for content in recent_contents %}
          <div class="border-l-4 border-red-600 pl-4 py-2">
            <div
              class="flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-2 sm:space-y-0"
            >
              <div class="flex-1 min-w-0">
                <h3 class="font-medium">
                  <a
                    href="{{ url_for('view_content', content_id=content.id) }}"
                    class="hover:text-red-300 block sm:inline"
                  >
                    {{ content.title }}
                  </a>
                </h3>
                <p class="text-sm break-words">{{ content.content[:100] }}...</p>
                <p class="text-xs">{{ content.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
              </div>
              <span
                class="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-600 text-white self-start sm:ml-4"
              >
                {{ content.purpose or 'General' }}
              </span>
            </div>
          </div>
          {% endfor %}
        </div>
        {% else %}
        <p class="text-gray-500 text-center py-8">
          No content created yet. Generate your first content above!
        </p>
        {% endif %}
      </div>
    </div>
    {% endblock %}
  </div>
</div>
